# ============================================================
# MailFlow — Variables d'environnement
# Copier ce fichier en .env.local et remplir les valeurs
# ============================================================

# ----------------------------------------------------------
# BASE DE DONNÉES (PostgreSQL)
# ----------------------------------------------------------
# Local dev : postgresql://postgres:password@localhost:5432/mailflow
# Neon/Supabase : string de connexion fourni par le service
DATABASE_URL="postgresql://postgres:password@localhost:5432/mailflow"

# ----------------------------------------------------------
# GOOGLE OAUTH 2.0 / GMAIL API
# ----------------------------------------------------------
# 1. Aller sur https://console.cloud.google.com/
# 2. Créer un projet, activer "Gmail API"
# 3. Créer des credentials "OAuth 2.0 Web App"
# 4. Ajouter l'URI de redirection autorisé
GOOGLE_CLIENT_ID="your-google-oauth-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-your-google-client-secret"
GOOGLE_REDIRECT_URI="http://localhost:3000/api/auth/gmail"

# ----------------------------------------------------------
# OPENAI
# ----------------------------------------------------------
# Créer une clé sur https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-proj-your-openai-api-key"

# ----------------------------------------------------------
# STRIPE
# ----------------------------------------------------------
# Clés disponibles sur https://dashboard.stripe.com/apikeys
# Utiliser les clés de TEST (sk_test_) en développement
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
# Secret du webhook (obtenu lors de la création du webhook dans Stripe)
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# IDs des prix Stripe (créer les produits dans le dashboard)
# Plan Starter : 9€/mois
STRIPE_STARTER_PRICE_ID="price_starter_monthly_id"
# Plan Pro : 29€/mois
STRIPE_PRO_PRICE_ID="price_pro_monthly_id"
# Plan Business : 79€/mois
STRIPE_BUSINESS_PRICE_ID="price_business_monthly_id"

# ----------------------------------------------------------
# RESEND (envoi d'emails — digests, notifications)
# ----------------------------------------------------------
# Créer un compte sur https://resend.com/
RESEND_API_KEY="re_your-resend-api-key"
RESEND_FROM_EMAIL="digest@mailflow.ai"

# ----------------------------------------------------------
# APPLICATION
# ----------------------------------------------------------
# Clé secrète pour les JWT de session (min 32 caractères, random)
NEXTAUTH_SECRET="your-super-secret-jwt-key-minimum-32-chars-long"
# URL publique de l'application
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ----------------------------------------------------------
# CHIFFREMENT
# ----------------------------------------------------------
# Clé AES-256 pour chiffrer les tokens OAuth en base (32 caractères exactement)
# Générer avec : openssl rand -hex 16
ENCRYPTION_KEY="your-32-character-encryption-key!"

# ----------------------------------------------------------
# VERCEL CRON (prod uniquement)
# ----------------------------------------------------------
# Token pour sécuriser les appels cron depuis Vercel
CRON_SECRET="your-cron-secret-token"
